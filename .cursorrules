# Pygameを使用したぷよぷよ風パズルゲーム開発指示

以下の要件に基づいて、Pygameを使用してぷよぷよに似たパズルゲームを開発してください。

## ゲームの基本設定
1. 6列×12行のグリッドを使用
2. 4色のぷよ（赤、青、緑、黄）を実装
3. ぷよは2個1組で落下

## ゲームメカニクス
1. プレイヤーは落下中のぷよを左右に移動可能
2. プレイヤーはぷよを90度回転可能
3. 4つ以上の同色ぷよが隣接すると消滅
4. 消滅後、上のぷよが落下して新たな連鎖を形成可能

## 落下メカニズムの詳細説明
1. ぷよの落下速度：
   - 一定のタイマーを設定し、そのインターバルごとにぷよを1マス下に移動
   - 落下速度は0.5秒ごとに設定

2. 落下の実装方法：
   - グリッドを2次元配列として実装
   - 各フレームで、下から上へ走査し、空きマスがある場合は上のぷよを1マス下に移動
   - 移動は、配列内の要素を入れ替えることで実現

3. 新しいぷよの生成：
   - 現在落下中のぷよがない場合、画面上部中央に新しいぷよペアを生成
   - 生成時は、ランダムに色を選択

4. 接地判定：
   - 各フレームで、現在落下中のぷよの下にブロックまたは床がある場合、落下を停止
   - 落下停止後、ぷよをグリッド上の該当位置に固定

5. 連鎖処理：
   - ぷよが接地するたびに、4つ以上つながっている同色ぷよを検出
   - 検出された場合、それらのぷよを消去し、上にあるぷよの落下処理を開始
   - この処理を、新たな連鎖が発生しなくなるまで繰り返す

## スコアシステム
1. 消したぷよの数に応じてスコア加算
2. 連鎖数に応じてボーナススコア付与

## UI要素
1. 次に落ちてくるぷよの表示
2. 現在のスコア表示

## 技術的要件
- Pygameライブラリを使用して開発
- コードの可読性と保守性を重視
- 適切なコメントを記述

開発の各段階で進捗を報告し、必要に応じて詳細な実装方法について質問してください。